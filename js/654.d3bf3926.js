"use strict";(self["webpackChunkty_h5"]=self["webpackChunkty_h5"]||[]).push([[654],{8112:function(e,t,l){var n=l(1857),i=l(1473);const o=(0,n.Q_)("city",{state:()=>({allCity:null,selectCity:{cityName:"广州"}}),actions:{async geiCityAll(){const e=await i.Z.getCityAll();this.allCity=e.data}}});t["Z"]=o},5056:function(e,t,l){l.r(t),l.d(t,{default:function(){return Qe}});var n=l(1404),i=l(3396),o=l(4870),r=l(610),a=l(5323),s=l(6048),c=l(7936),u=l(6491),d=l(9951),v=l(2220),p=l(5322),f=l(253);function g(e,t,l){let n=0;const i=e.scrollLeft,o=0===l?1:Math.round(1e3*l/16);function r(){e.scrollLeft+=(t-i)/o,++n<o&&(0,f.Wn)(r)}r()}function m(e,t,l,n){let i=(0,c.cx)(e);const o=i<t,r=0===l?1:Math.round(1e3*l/16),a=(t-i)/r;function s(){i+=a,(o&&i>t||!o&&i<t)&&(i=t),(0,c.QU)(e,i),o&&i<t||!o&&i>t?(0,f.Wn)(s):n&&(0,f.Wn)(n)}s()}let h=0;function b(){const e=(0,i.FN)(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++h}`}var y=l(6014),k=l(5640),x=l(3444),C=l(7631),w=l(6653),W=l(3068);const[S,I]=(0,r["do"])("tab");var B=(0,i.aZ)({name:S,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:a.Or,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:a.J5},setup(e,{slots:t}){const l=(0,i.Fl)((()=>{const t={},{type:l,color:n,disabled:i,isActive:o,activeColor:r,inactiveColor:a}=e,s="card"===l;n&&s&&(t.borderColor=n,i||(o?t.backgroundColor=n:t.color=n));const c=o?r:a;return c&&(t.color=c),t})),n=()=>{const l=(0,i.Wm)("span",{class:I("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||(0,u.Xq)(e.badge)&&""!==e.badge?(0,i.Wm)(W.C,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[l]}):l};return()=>(0,i.Wm)("div",{id:e.id,role:"tab",class:[I([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:l.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[n()])}}),F=l(8620);const[A,V]=(0,r["do"])("tabs");var $=(0,i.aZ)({name:A,props:{count:(0,a.ir)(Number),inited:Boolean,animated:Boolean,duration:(0,a.ir)(a.Or),swipeable:Boolean,lazyRender:Boolean,currentIndex:(0,a.ir)(Number)},emits:["change"],setup(e,{emit:t,slots:l}){const n=(0,o.iH)(),r=e=>t("change",e),a=()=>{var t;const o=null==(t=l.default)?void 0:t.call(l);return e.animated||e.swipeable?(0,i.Wm)(F.o,{ref:n,loop:!1,class:V("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[o]}):o},s=t=>{const l=n.value;l&&l.state.active!==t&&l.swipeTo(t,{immediate:!e.inited})};return(0,i.YP)((()=>e.currentIndex),s),(0,i.bv)((()=>{s(e.currentIndex)})),()=>(0,i.Wm)("div",{class:V("content",{animated:e.animated||e.swipeable})},[a()])}});const[O,q]=(0,r["do"])("tabs"),T={type:(0,a.SQ)("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:(0,a.SI)(0),duration:(0,a.SI)(.3),animated:Boolean,ellipsis:a.J5,swipeable:Boolean,scrollspy:Boolean,offsetTop:(0,a.SI)(0),background:String,lazyRender:a.J5,lineWidth:a.Or,lineHeight:a.Or,beforeChange:Function,swipeThreshold:(0,a.SI)(5),titleActiveColor:String,titleInactiveColor:String},H=Symbol(O);var Y=(0,i.aZ)({name:O,props:T,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:l}){let n,r,a;const h=(0,o.iH)(),W=(0,o.iH)(),S=(0,o.iH)(),I=b(),F=(0,f.eo)(h),[A,V]=(0,k.v)(),{children:O,linkChildren:T}=(0,f.$E)(H),Y=(0,o.qj)({inited:!1,position:"",lineStyle:{},currentIndex:-1}),z=(0,i.Fl)((()=>O.length>e.swipeThreshold||!e.ellipsis||e.shrink)),L=(0,i.Fl)((()=>({borderColor:e.color,background:e.background}))),P=(e,t)=>{var l;return null!=(l=e.name)?l:t},Z=(0,i.Fl)((()=>{const e=O[Y.currentIndex];if(e)return P(e,Y.currentIndex)})),M=(0,i.Fl)((()=>(0,s.LU)(e.offsetTop))),R=(0,i.Fl)((()=>e.sticky?M.value+n:0)),D=t=>{const l=W.value,n=A.value;if(!z.value||!l||!n||!n[Y.currentIndex])return;const i=n[Y.currentIndex].$el,o=i.offsetLeft-(l.offsetWidth-i.offsetWidth)/2;g(l,o,t?0:+e.duration)},J=()=>{const t=Y.inited;(0,i.Y3)((()=>{const l=A.value;if(!l||!l[Y.currentIndex]||"line"!==e.type||(0,c.xj)(h.value))return;const n=l[Y.currentIndex].$el,{lineWidth:i,lineHeight:o}=e,r=n.offsetLeft+n.offsetWidth/2,a={width:(0,s.Nn)(i),backgroundColor:e.color,transform:`translateX(${r}px) translateX(-50%)`};if(t&&(a.transitionDuration=`${e.duration}s`),(0,u.Xq)(o)){const e=(0,s.Nn)(o);a.height=e,a.borderRadius=e}Y.lineStyle=a}))},_=e=>{const t=e<Y.currentIndex?-1:1;while(e>=0&&e<O.length){if(!O[e].disabled)return e;e+=t}},N=l=>{const n=_(l);if(!(0,u.Xq)(n))return;const i=O[n],o=P(i,n),r=null!==Y.currentIndex;Y.currentIndex=n,o!==e.active&&(t("update:active",o),r&&t("change",o,i.title))},X=e=>{const t=O.find(((t,l)=>P(t,l)===e)),l=t?O.indexOf(t):0;N(l)},j=(t=!1)=>{if(e.scrollspy){const l=O[Y.currentIndex].$el;if(l&&F.value){const n=(0,c.U4)(l,F.value)-R.value;r=!0,m(F.value,n,t?0:+e.duration,(()=>{r=!1}))}}},E=(l,n,i)=>{const{title:o,disabled:r}=O[n],a=P(O[n],n);r?t("disabled",a,o):((0,d.I)(e.beforeChange,{args:[a],done:()=>{N(n),j()}}),t("click",a,o),(0,y.BC)(l)),t("click-tab",{name:a,title:o,event:i,disabled:r})},U=e=>{a=e.isFixed,t("scroll",e)},Q=e=>{(0,i.Y3)((()=>{X(e),j(!0)}))},K=()=>{for(let e=0;e<O.length;e++){const{top:t}=(0,f.EL)(O[e].$el);if(t>R.value)return 0===e?0:e-1}return O.length-1},G=()=>{if(e.scrollspy&&!r){const e=K();N(e)}},ee=()=>O.map(((t,l)=>(0,i.Wm)(B,(0,i.dG)({key:t.id,id:`${I}-${l}`,ref:V(l),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,shrink:e.shrink,isActive:l===Y.currentIndex,controls:t.id,scrollable:z.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:e=>E(t,l,e)},(0,v.ei)(t,["dot","badge","title","disabled","showZeroBadge"])),{title:t.$slots.title}))),te=()=>{if("line"===e.type&&O.length)return(0,i.Wm)("div",{class:q("line"),style:Y.lineStyle},null)},le=()=>{var t,n;const{type:o,border:r}=e;return(0,i.Wm)("div",{ref:S,class:[q("wrap"),{[p.r5]:"line"===o&&r}]},[(0,i.Wm)("div",{ref:W,role:"tablist",class:q("nav",[o,{shrink:e.shrink,complete:z.value}]),style:L.value,"aria-orientation":"horizontal"},[null==(t=l["nav-left"])?void 0:t.call(l),ee(),te(),null==(n=l["nav-right"])?void 0:n.call(l)])])};(0,i.YP)([()=>e.color,c.bn],J),(0,i.YP)((()=>e.active),(e=>{e!==Z.value&&X(e)})),(0,i.YP)((()=>O.length),(()=>{Y.inited&&(X(e.active),J(),(0,i.Y3)((()=>{D(!0)})))})),(0,i.YP)((()=>Y.currentIndex),(()=>{D(),J(),a&&!e.scrollspy&&(0,c.kn)(Math.ceil((0,c.U4)(h.value)-M.value))}));const ne=()=>{X(e.active),(0,i.Y3)((()=>{Y.inited=!0,S.value&&(n=(0,f.EL)(S.value).height),D(!0)}))},ie=(e,l)=>t("rendered",e,l);return(0,x.F)({resize:J,scrollTo:Q}),(0,i.dl)(J),(0,C.h)(J),(0,f.Ib)(ne),(0,f.OR)("scroll",G,{target:F}),T({id:I,props:e,setLine:J,onRendered:ie,currentName:Z,scrollIntoView:D}),()=>{var t;return(0,i.Wm)("div",{ref:h,class:q([e.type])},[e.sticky?(0,i.Wm)(w.L,{container:h.value,offsetTop:M.value,onScroll:U},{default:()=>{var e;return[le(),null==(e=l["nav-bottom"])?void 0:e.call(l)]}}):[le(),null==(t=l["nav-bottom"])?void 0:t.call(l)],(0,i.Wm)($,{count:O.length,inited:Y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:Y.currentIndex,onChange:N},{default:()=>{var e;return[null==(e=l.default)?void 0:e.call(l)]}})])}}});const z=(0,n.n)(Y);l(1958),l(368),l(1771),l(9137);var L=l(9242);const P=Symbol();var Z=l(8101);const[M,R]=(0,r["do"])("tab"),D=(0,v.l7)({},y.g2,{dot:Boolean,name:a.Or,badge:a.Or,title:String,disabled:Boolean,titleClass:a.Vg,titleStyle:[String,Object],showZeroBadge:a.J5});var J=(0,i.aZ)({name:M,props:D,setup(e,{slots:t}){const l=b(),n=(0,o.iH)(!1),{parent:r,index:a}=(0,f.NB)(H);if(!r)return void 0;const s=()=>{var t;return null!=(t=e.name)?t:a.value},c=()=>{n.value=!0,r.props.lazyRender&&(0,i.Y3)((()=>{r.onRendered(s(),e.title)}))},u=(0,i.Fl)((()=>{const e=s()===r.currentName.value;return e&&!n.value&&c(),e}));return(0,i.YP)((()=>e.title),(()=>{r.setLine(),r.scrollIntoView()})),(0,i.JJ)(P,u),()=>{var e;const o=`${r.id}-${a.value}`,{animated:s,swipeable:c,scrollspy:d,lazyRender:v}=r.props;if(!t.default&&!s)return;const p=d||u.value;if(s||c)return(0,i.Wm)(Z.j,{id:l,role:"tabpanel",class:R("panel-wrapper",{inactive:!u.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":o},{default:()=>{var e;return[(0,i.Wm)("div",{class:R("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const f=n.value||d||!v,g=f?null==(e=t.default)?void 0:e.call(t):null;return(0,x.F)({id:l}),(0,i.wy)((0,i.Wm)("div",{id:l,role:"tabpanel",class:R("panel"),tabindex:p?0:-1,"aria-labelledby":o},[g]),[[L.F8,p]])}}});const _=(0,n.n)(J);l(1088);function N(e){return Array.isArray(e)?!e.length:0!==e&&!e}function X(e,t){return(!t.required||!N(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function j(e,t){return new Promise((l=>{const n=t.validator(e,t);(0,u.tI)(n)?n.then(l):l(n)}))}function E(e,t){const{message:l}=t;return(0,u.mf)(l)?l(e,t):l||""}function U({target:e}){e.composing=!0}function Q({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function K(e,t){const l=(0,c.oD)();e.style.height="auto";let n=e.scrollHeight;if((0,u.Kn)(t)){const{maxHeight:e,minHeight:l}=t;void 0!==e&&(n=Math.min(n,e)),void 0!==l&&(n=Math.max(n,l))}n&&(e.style.height=`${n}px`,(0,c.kn)(l))}function G(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function ee(e){return[...e].length}function te(e,t){return[...e].slice(0,t).join("")}var le=l(3649);const[ne,ie]=(0,r["do"])("cell"),oe={icon:String,size:String,title:a.Or,value:a.Or,label:a.Or,center:Boolean,isLink:Boolean,border:a.J5,required:Boolean,iconPrefix:String,valueClass:a.Vg,labelClass:a.Vg,titleClass:a.Vg,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},re=(0,v.l7)({},oe,y.g2);var ae=(0,i.aZ)({name:ne,props:re,setup(e,{slots:t}){const l=(0,y.yj)(),n=()=>{const l=t.label||(0,u.Xq)(e.label);if(l)return(0,i.Wm)("div",{class:[ie("label"),e.labelClass]},[t.label?t.label():e.label])},o=()=>{if(t.title||(0,u.Xq)(e.title))return(0,i.Wm)("div",{class:[ie("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():(0,i.Wm)("span",null,[e.title]),n()])},r=()=>{const l=t.value||t.default,n=l||(0,u.Xq)(e.value);if(n){const n=t.title||(0,u.Xq)(e.title);return(0,i.Wm)("div",{class:[ie("value",{alone:!n}),e.valueClass]},[l?l():(0,i.Wm)("span",null,[e.value])])}},a=()=>t.icon?t.icon():e.icon?(0,i.Wm)(le.J,{name:e.icon,class:ie("left-icon"),classPrefix:e.iconPrefix},null):void 0,s=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return(0,i.Wm)(le.J,{name:t,class:ie("right-icon")},null)}};return()=>{var n,c;const{size:u,center:d,border:v,isLink:p,required:f}=e,g=null!=(n=e.clickable)?n:p,m={center:d,required:f,clickable:g,borderless:!v};return u&&(m[u]=!!u),(0,i.Wm)("div",{class:ie(m),role:g?"button":void 0,tabindex:g?0:void 0,onClick:l},[a(),o(),r(),s(),null==(c=t.extra)?void 0:c.call(t)])}}});const se=(0,n.n)(ae);const[ce,ue]=(0,r["do"])("field"),de={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:a.Or,formatter:Function,clearIcon:(0,a.SQ)("clear"),modelValue:(0,a.SI)(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:(0,a.SQ)("focus"),formatTrigger:(0,a.SQ)("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},ve=(0,v.l7)({},oe,de,{rows:a.Or,type:(0,a.SQ)("text"),rules:Array,autosize:[Boolean,Object],labelWidth:a.Or,labelClass:a.Vg,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var pe=(0,i.aZ)({name:ce,props:ve,emits:["blur","focus","clear","keypress","click-input","end-validate","start-validate","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:l}){const n=b(),r=(0,o.qj)({status:"unvalidated",focused:!1,validateMessage:""}),a=(0,o.iH)(),d=(0,o.iH)(),{parent:g}=(0,f.NB)(p.WN),m=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},h=t=>(0,u.Xq)(e[t])?e[t]:g&&(0,u.Xq)(g.props[t])?g.props[t]:void 0,y=(0,i.Fl)((()=>{const t=h("readonly");if(e.clearable&&!t){const t=""!==m(),l="always"===e.clearTrigger||"focus"===e.clearTrigger&&r.focused;return t&&l}return!1})),k=(0,i.Fl)((()=>d.value&&l.input?d.value():e.modelValue)),C=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===r.status)return;let{value:e}=k;return t.formatter&&(e=t.formatter(e,t)),X(e,t)?t.validator?j(e,t).then((l=>{l&&"string"===typeof l?(r.status="failed",r.validateMessage=l):!1===l&&(r.status="failed",r.validateMessage=E(e,t))})):void 0:(r.status="failed",void(r.validateMessage=E(e,t)))}))),Promise.resolve()),w=()=>{r.status="unvalidated",r.validateMessage=""},W=()=>t("end-validate",{status:r.status}),S=(l=e.rules)=>new Promise((n=>{w(),l?(t("start-validate"),C(l).then((()=>{"failed"===r.status?(n({name:e.name,message:r.validateMessage}),W()):(r.status="passed",n(),W())}))):n()})),I=t=>{if(g&&e.rules){const{validateTrigger:l}=g.props,n=(0,v.qo)(l).includes(t),i=e.rules.filter((e=>e.trigger?(0,v.qo)(e.trigger).includes(t):n));i.length&&S(i)}},B=t=>{const{maxlength:l}=e;if((0,u.Xq)(l)&&ee(t)>l){const e=m();return e&&ee(e)===+l?e:te(t,+l)}return t},F=(l,n="onChange")=>{if(l=B(l),"number"===e.type||"digit"===e.type){const t="number"===e.type;l=(0,s.uf)(l,t,t)}e.formatter&&n===e.formatTrigger&&(l=e.formatter(l)),a.value&&a.value.value!==l&&(a.value.value=l),l!==e.modelValue&&t("update:modelValue",l)},A=e=>{e.target.composing||F(e.target.value)},V=()=>{var e;return null==(e=a.value)?void 0:e.blur()},$=()=>{var e;return null==(e=a.value)?void 0:e.focus()},O=()=>{const t=a.value;"textarea"===e.type&&e.autosize&&t&&K(t,e.autosize)},q=e=>{r.focused=!0,t("focus",e),(0,i.Y3)(O),h("readonly")&&V()},T=e=>{h("readonly")||(r.focused=!1,F(m(),"onBlur"),t("blur",e),I("onBlur"),(0,i.Y3)(O),(0,c.pe)())},H=e=>t("click-input",e),Y=e=>t("click-left-icon",e),z=e=>t("click-right-icon",e),L=e=>{(0,c.PF)(e),t("update:modelValue",""),t("clear",e)},P=(0,i.Fl)((()=>"boolean"===typeof e.error?e.error:!(!g||!g.props.showError||"failed"!==r.status)||void 0)),Z=(0,i.Fl)((()=>{const e=h("labelWidth");if(e)return{width:(0,s.Nn)(e)}})),M=l=>{const n=13;if(l.keyCode===n){const t=g&&g.props.submitOnEnter;t||"textarea"===e.type||(0,c.PF)(l),"search"===e.type&&V()}t("keypress",l)},R=()=>e.id||`${n}-input`,D=()=>r.status,J=()=>{const t=ue("control",[h("inputAlign"),{error:P.value,custom:!!l.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(l.input)return(0,i.Wm)("div",{class:t,onClick:H},[l.input()]);const o={id:R(),ref:a,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:h("disabled"),readonly:h("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${n}-label`:void 0,onBlur:T,onFocus:q,onInput:A,onClick:H,onChange:Q,onKeypress:M,onCompositionend:Q,onCompositionstart:U};return"textarea"===e.type?(0,i.Wm)("textarea",o,null):(0,i.Wm)("input",(0,i.dG)(G(e.type),o),null)},_=()=>{const t=l["left-icon"];if(e.leftIcon||t)return(0,i.Wm)("div",{class:ue("left-icon"),onClick:Y},[t?t():(0,i.Wm)(le.J,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},N=()=>{const t=l["right-icon"];if(e.rightIcon||t)return(0,i.Wm)("div",{class:ue("right-icon"),onClick:z},[t?t():(0,i.Wm)(le.J,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},ne=()=>{if(e.showWordLimit&&e.maxlength){const t=ee(m());return(0,i.Wm)("div",{class:ue("word-limit")},[(0,i.Wm)("span",{class:ue("word-num")},[t]),(0,i.Uk)("/"),e.maxlength])}},ie=()=>{if(g&&!1===g.props.showErrorMessage)return;const t=e.errorMessage||r.validateMessage;if(t){const e=l["error-message"],n=h("errorMessageAlign");return(0,i.Wm)("div",{class:ue("error-message",n)},[e?e({message:t}):t])}},oe=()=>{const t=h("colon")?":":"";return l.label?[l.label(),t]:e.label?(0,i.Wm)("label",{id:`${n}-label`,for:R()},[e.label+t]):void 0},re=()=>[(0,i.Wm)("div",{class:ue("body")},[J(),y.value&&(0,i.Wm)(le.J,{name:e.clearIcon,class:ue("clear"),onTouchstart:L},null),N(),l.button&&(0,i.Wm)("div",{class:ue("button")},[l.button()])]),ne(),ie()];return(0,x.F)({blur:V,focus:$,validate:S,formValue:k,resetValidation:w,getValidationStatus:D}),(0,i.JJ)(f.F1,{customValue:d,resetValidation:w,validateWithTrigger:I}),(0,i.YP)((()=>e.modelValue),(()=>{F(m()),w(),I("onChange"),(0,i.Y3)(O)})),(0,i.bv)((()=>{F(m(),e.formatTrigger),(0,i.Y3)(O)})),()=>{const t=h("disabled"),n=h("labelAlign"),o=oe(),r=_();return(0,i.Wm)(se,{size:e.size,icon:e.leftIcon,class:ue({error:P.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Z.value,valueClass:ue("value"),titleClass:[ue("label",[n,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:r?()=>r:null,title:o?()=>o:null,value:re,extra:l.extra})}}});const fe=(0,n.n)(pe);const[ge,me,he]=(0,r["do"])("search"),be=(0,v.l7)({},de,{label:String,shape:(0,a.SQ)("square"),leftIcon:(0,a.SQ)("search"),clearable:a.J5,actionText:String,background:String,showAction:Boolean});var ye=(0,i.aZ)({name:ge,props:be,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:l,attrs:n}){const r=b(),a=(0,o.iH)(),s=()=>{l.action||(t("update:modelValue",""),t("cancel"))},u=l=>{const n=13;l.keyCode===n&&((0,c.PF)(l),t("search",e.modelValue))},d=()=>e.id||`${r}-input`,p=()=>{if(l.label||e.label)return(0,i.Wm)("label",{class:me("label"),for:d()},[l.label?l.label():e.label])},f=()=>{if(e.showAction){const t=e.actionText||he("cancel");return(0,i.Wm)("div",{class:me("action"),role:"button",tabindex:0,onClick:s},[l.action?l.action():t])}},g=()=>{var e;return null==(e=a.value)?void 0:e.blur()},m=()=>{var e;return null==(e=a.value)?void 0:e.focus()},h=e=>t("blur",e),y=e=>t("focus",e),k=e=>t("clear",e),C=e=>t("click-input",e),w=e=>t("click-left-icon",e),W=e=>t("click-right-icon",e),S=Object.keys(de),I=()=>{const o=(0,v.l7)({},n,(0,v.ei)(e,S),{id:d()}),r=e=>t("update:modelValue",e);return(0,i.Wm)(fe,(0,i.dG)({ref:a,type:"search",class:me("field"),border:!1,onBlur:h,onFocus:y,onClear:k,onKeypress:u,"onClick-input":C,"onClick-left-icon":w,"onClick-right-icon":W,"onUpdate:modelValue":r},o),(0,v.ei)(l,["left-icon","right-icon"]))};return(0,x.F)({focus:m,blur:g}),()=>{var t;return(0,i.Wm)("div",{class:me({"show-action":e.showAction}),style:{background:e.background}},[null==(t=l.left)?void 0:t.call(l),(0,i.Wm)("div",{class:me("content",e.shape)},[p(),I()]),f()])}}});const ke=(0,n.n)(ye);l(6742);var xe=l(2483),Ce=l(8112),we=l(1857),We=l(4754),Se=(l(767),l(5261));function Ie(){const e="A".charCodeAt(0),t=Array(26).fill("").map(((t,l)=>String.fromCharCode(e+l)));return t}const[Be,Fe]=(0,r["do"])("index-bar"),Ae={sticky:a.J5,zIndex:a.Or,teleport:[String,Object],highlightColor:String,stickyOffsetTop:(0,a.qM)(0),indexList:{type:Array,default:Ie}},Ve=Symbol(Be);var $e=(0,i.aZ)({name:Be,props:Ae,emits:["select","change"],setup(e,{emit:t,slots:l}){const n=(0,o.iH)(),r=(0,o.iH)(""),a=(0,Se.o)(),s=(0,f.eo)(n),{children:d,linkChildren:v}=(0,f.$E)(Ve);let p;v({props:e});const g=(0,i.Fl)((()=>{if((0,u.Xq)(e.zIndex))return{zIndex:+e.zIndex+1}})),m=(0,i.Fl)((()=>{if(e.highlightColor)return{color:e.highlightColor}})),h=(t,l)=>{for(let n=d.length-1;n>=0;n--){const i=n>0?l[n-1].height:0,o=e.sticky?i+e.stickyOffsetTop:0;if(t+o>=l[n].top)return n}return-1},b=e=>d.find((t=>String(t.index)===e)),y=()=>{if((0,c.xj)(n))return;const{sticky:t,indexList:l}=e,i=(0,c.cx)(s.value),o=(0,f.EL)(s),a=d.map((e=>e.getRect(s.value,o)));let u=-1;if(p){const e=b(p);if(e){const t=e.getRect(s.value,o);u=h(t.top,a)}}else u=h(i,a);r.value=l[u],t&&d.forEach(((t,l)=>{const{state:n,$el:r}=t;if(l===u||l===u-1){const e=r.getBoundingClientRect();n.left=e.left,n.width=e.width}else n.left=null,n.width=null;if(l===u)n.active=!0,n.top=Math.max(e.stickyOffsetTop,a[l].top-i)+o.top;else if(l===u-1&&""===p){const e=a[u].top-i;n.active=e>0,n.top=e+o.top-a[l].height}else n.active=!1})),p=""},k=()=>{(0,i.Y3)(y)};(0,f.OR)("scroll",y,{target:s}),(0,i.bv)(k),(0,i.YP)((()=>e.indexList),k),(0,i.YP)(r,(e=>{e&&t("change",e)}));const C=()=>e.indexList.map((e=>{const t=e===r.value;return(0,i.Wm)("span",{class:Fe("index",{active:t}),style:t?m.value:void 0,"data-index":e},[e])})),w=l=>{p=String(l);const n=b(p);if(n){const l=(0,c.cx)(s.value),i=(0,f.EL)(s),{offsetHeight:o}=document.documentElement;if(l===o-i.height)return void y();n.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&(0,c.kn)((0,c.oD)()-e.stickyOffsetTop),t("select",n.index)}},W=e=>{const{index:t}=e.dataset;t&&w(t)},S=e=>{W(e.target)};let I;const B=e=>{if(a.move(e),a.isVertical()){(0,c.PF)(e);const{clientX:t,clientY:l}=e.touches[0],n=document.elementFromPoint(t,l);if(n){const{index:e}=n.dataset;e&&I!==e&&(I=e,W(n))}}},F=()=>(0,i.Wm)("div",{class:Fe("sidebar"),style:g.value,onClick:S,onTouchstart:a.start,onTouchmove:B},[C()]);return(0,x.F)({scrollTo:w}),()=>{var t;return(0,i.Wm)("div",{ref:n,class:Fe()},[e.teleport?(0,i.Wm)(i.lR,{to:e.teleport},{default:()=>[F()]}):F(),null==(t=l.default)?void 0:t.call(l)])}}});const Oe=(0,n.n)($e);const[qe,Te]=(0,r["do"])("index-anchor"),He={index:a.Or};var Ye=(0,i.aZ)({name:qe,props:He,setup(e,{slots:t}){const l=(0,o.qj)({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),n=(0,o.iH)(),{parent:r}=(0,f.NB)(Ve);if(!r)return void 0;const a=()=>l.active&&r.props.sticky,u=(0,i.Fl)((()=>{const{zIndex:e,highlightColor:t}=r.props;if(a())return(0,v.l7)((0,s.As)(e),{left:l.left?`${l.left}px`:void 0,width:l.width?`${l.width}px`:void 0,transform:l.top?`translate3d(0, ${l.top}px, 0)`:void 0,color:t})})),d=(e,t)=>{const i=(0,f.EL)(n);return l.rect.height=i.height,e===window||e===document.body?l.rect.top=i.top+(0,c.oD)():l.rect.top=i.top+(0,c.cx)(e)-t.top,l.rect};return(0,x.F)({state:l,getRect:d}),()=>{const o=a();return(0,i.Wm)("div",{ref:n,style:{height:o?`${l.rect.height}px`:void 0}},[(0,i.Wm)("div",{style:u.value,class:[Te({sticky:o}),{[p.xe]:o}]},[t.default?t.default():e.index])])}}});const ze=(0,n.n)(Ye);var Le=l(7139);const Pe={class:"city-tab"},Ze=(0,i.Uk)("热门"),Me={class:"remen"},Re=["onClick"];var De={__name:"city-tablist",props:{citys:{type:Array,required:!0},hotCities:{type:Array,required:!0}},setup(e){const t=e,l=(0,xe.tv)(),n=(0,Ce.Z)(),r=(0,i.Fl)((()=>{const e=t.citys.map((e=>e.group));return e.unshift("#"),e})),a=e=>{n.selectCity=e,l.back()};return(t,l)=>{const n=ze,s=se,c=Oe;return(0,i.wg)(),(0,i.iD)("div",Pe,[(0,i.Wm)(c,{"highlight-color":"#1296db","index-list":(0,o.SU)(r)},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{index:"#"},{default:(0,i.w5)((()=>[Ze])),_:1}),(0,i._)("div",Me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.hotCities,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:"item",key:t,onClick:t=>a(e)},(0,Le.zw)(e.cityName),9,Re)))),128))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.citys,(e=>((0,i.wg)(),(0,i.iD)(i.HY,{key:e.group},[(0,i.Wm)(n,{index:e.group},null,8,["index"]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.cities,(e=>((0,i.wg)(),(0,i.j4)(s,{key:e.cityId,title:e.cityName,onClick:t=>a(e)},null,8,["title","onClick"])))),128))],64)))),128))])),_:1},8,["index-list"])])}}},Je=l(89);const _e=(0,Je.Z)(De,[["__scopeId","data-v-10b0018c"]]);var Ne=_e;const Xe={class:"city hide-tabbar"},je={class:"content"};var Ee={__name:"City",setup(e){const t=(0,xe.tv)(),l=(0,Ce.Z)(),{allCity:n}=(0,we.Jk)(l);(0,i.bv)((()=>{l.geiCityAll()}));const r=(0,o.iH)(""),a=e=>(0,We.F)(e),s=()=>t.back(),c=(0,o.iH)(0);return(e,t)=>{const l=ke,u=_,d=z;return(0,i.wg)(),(0,i.iD)("div",Xe,[(0,i.Wm)(l,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"show-action":"",placeholder:"请输入搜索关键词",shape:"round",onSearch:a,onCancel:s},null,8,["modelValue"]),(0,i.Wm)(d,{active:c.value,"onUpdate:active":t[1]||(t[1]=e=>c.value=e),"title-active-color":"#1296db",sticky:!1},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,o.SU)(n),((e,t)=>((0,i.wg)(),(0,i.j4)(u,{key:t,title:e.title},{default:(0,i.w5)((()=>[(0,i._)("div",je,[(0,i.Wm)(Ne,{citys:e.cities,hotCities:e.hotCities},null,8,["citys","hotCities"])])])),_:2},1032,["title"])))),128))])),_:1},8,["active"])])}}};const Ue=(0,Je.Z)(Ee,[["__scopeId","data-v-25026c83"]]);var Qe=Ue},5640:function(e,t,l){l.d(t,{v:function(){return o}});var n=l(4870),i=l(3396);function o(){const e=(0,n.iH)([]),t=[];(0,i.Xn)((()=>{e.value=[]}));const l=l=>(t[l]||(t[l]=t=>{e.value[l]=t}),t[l]);return[e,l]}}}]);
//# sourceMappingURL=654.d3bf3926.js.map